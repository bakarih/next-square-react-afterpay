{"version":3,"file":"load.es.js","sources":["../../../../../node_modules/@square/web-sdk/dist/load.js"],"sourcesContent":["function findScript(src) {\n    return document.querySelector(`script[src=\"${src}\"]`);\n}\nfunction injectScript(src) {\n    const headOrBody = document.head || document.body;\n    if (!headOrBody) {\n        throw new Error('Square.js requires a <body> or <head> element.');\n    }\n    const script = document.createElement('script');\n    script.src = src;\n    headOrBody.appendChild(script);\n    return script;\n}\nlet loadPromise = null;\nexport function loadSquare(src) {\n    if (loadPromise !== null) {\n        return loadPromise;\n    }\n    loadPromise = new Promise((resolve, reject) => {\n        if (typeof window === 'undefined') {\n            // Resolve to null when imported server side. This makes the module safe to import in an isomorphic code base.\n            resolve(null);\n            return;\n        }\n        if (window.Square) {\n            resolve(window.Square);\n            return;\n        }\n        try {\n            let script = findScript(src);\n            if (!script) {\n                script = injectScript(src);\n            }\n            script.addEventListener('load', () => {\n                if (window.Square) {\n                    resolve(window.Square);\n                }\n                else {\n                    reject(new Error('Square.js failed to load properly.'));\n                }\n            });\n            script.addEventListener('error', () => {\n                reject(new Error('Error occurred while loading Square.js'));\n            });\n        }\n        catch (err) {\n            reject(err);\n        }\n    });\n    return loadPromise;\n}\n//# sourceMappingURL=load.js.map"],"names":[],"mappings":"AAAA,SAAS,UAAU,CAAC,GAAG,EAAE;AACzB,IAAI,OAAO,QAAQ,CAAC,aAAa,CAAC,CAAC,YAAY,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AAC1D,CAAC;AACD,SAAS,YAAY,CAAC,GAAG,EAAE;AAC3B,IAAI,MAAM,UAAU,GAAG,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC;AACtD,IAAI,IAAI,CAAC,UAAU,EAAE;AACrB,QAAQ,MAAM,IAAI,KAAK,CAAC,gDAAgD,CAAC,CAAC;AAC1E,KAAK;AACL,IAAI,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AACpD,IAAI,MAAM,CAAC,GAAG,GAAG,GAAG,CAAC;AACrB,IAAI,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;AACnC,IAAI,OAAO,MAAM,CAAC;AAClB,CAAC;AACD,IAAI,WAAW,GAAG,IAAI,CAAC;AAChB,SAAS,UAAU,CAAC,GAAG,EAAE;AAChC,IAAI,IAAI,WAAW,KAAK,IAAI,EAAE;AAC9B,QAAQ,OAAO,WAAW,CAAC;AAC3B,KAAK;AACL,IAAI,WAAW,GAAG,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,KAAK;AACnD,QAAQ,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;AAC3C;AACA,YAAY,OAAO,CAAC,IAAI,CAAC,CAAC;AAC1B,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI,MAAM,CAAC,MAAM,EAAE;AAC3B,YAAY,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACnC,YAAY,OAAO;AACnB,SAAS;AACT,QAAQ,IAAI;AACZ,YAAY,IAAI,MAAM,GAAG,UAAU,CAAC,GAAG,CAAC,CAAC;AACzC,YAAY,IAAI,CAAC,MAAM,EAAE;AACzB,gBAAgB,MAAM,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC;AAC3C,aAAa;AACb,YAAY,MAAM,CAAC,gBAAgB,CAAC,MAAM,EAAE,MAAM;AAClD,gBAAgB,IAAI,MAAM,CAAC,MAAM,EAAE;AACnC,oBAAoB,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AAC3C,iBAAiB;AACjB,qBAAqB;AACrB,oBAAoB,MAAM,CAAC,IAAI,KAAK,CAAC,oCAAoC,CAAC,CAAC,CAAC;AAC5E,iBAAiB;AACjB,aAAa,CAAC,CAAC;AACf,YAAY,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;AACnD,gBAAgB,MAAM,CAAC,IAAI,KAAK,CAAC,wCAAwC,CAAC,CAAC,CAAC;AAC5E,aAAa,CAAC,CAAC;AACf,SAAS;AACT,QAAQ,OAAO,GAAG,EAAE;AACpB,YAAY,MAAM,CAAC,GAAG,CAAC,CAAC;AACxB,SAAS;AACT,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,WAAW,CAAC;AACvB;;;;"}