{"version":3,"file":"use-event-listener.es.js","sources":["../../src/hooks/use-event-listener.ts"],"sourcesContent":["// Dependencies\nimport * as React from 'react';\n\nexport const getRefElement = <T>(\n  element?: React.RefObject<Element> | T\n): Element | T | undefined | null | React.RefObject<Element> => {\n  if (element && 'current' in element) {\n    return element.current;\n  }\n\n  return element;\n};\n\nconst isSsr = !(typeof window !== 'undefined' && window.document?.createElement);\n\ntype UseEventListenerProps = {\n  type: keyof WindowEventMap;\n  listener: EventListener;\n  element?: React.RefObject<Element> | HTMLElement | Document | Window | null;\n  options?: AddEventListenerOptions;\n};\n\nfunction useEventListener({ type, listener, element = isSsr ? undefined : window, options }: UseEventListenerProps) {\n  const savedListener = React.useRef<EventListener>();\n\n  React.useEffect(() => {\n    savedListener.current = listener;\n  }, [listener]);\n\n  const handleEventListener = React.useCallback((event: Event) => {\n    savedListener.current?.(event);\n  }, []);\n\n  React.useEffect(() => {\n    const target = getRefElement(element) as unknown as Element;\n\n    target?.addEventListener(type, handleEventListener, options);\n\n    return () => target?.removeEventListener(type, handleEventListener);\n  }, [type, element, options, handleEventListener]);\n}\n\nexport { useEventListener };\nexport type { UseEventListenerProps };\n"],"names":[],"mappings":";;AAGa,MAAA,aAAA,GAAgB,CAC3B,OAC8D,KAAA;AAC9D,EAAI,IAAA,OAAA,IAAW,aAAa,OAAS,EAAA;AACnC,IAAA,OAAO,OAAQ,CAAA,OAAA,CAAA;AAAA,GACjB;AAEA,EAAO,OAAA,OAAA,CAAA;AACT,EAAA;AAEA,MAAM,QAAQ,EAAE,OAAO,MAAW,KAAA,WAAA,IAAe,OAAO,QAAU,EAAA,aAAA,CAAA,CAAA;AASlE,SAAA,gBAAA,CAA0B,EAAE,IAAM,EAAA,QAAA,EAAU,UAAU,KAAQ,GAAA,KAAA,CAAA,GAAY,QAAQ,OAAkC,EAAA,EAAA;AAClH,EAAM,MAAA,aAAA,GAAgB,MAAM,MAAsB,EAAA,CAAA;AAElD,EAAA,KAAA,CAAM,UAAU,MAAM;AACpB,IAAA,aAAA,CAAc,OAAU,GAAA,QAAA,CAAA;AAAA,GAC1B,EAAG,CAAC,QAAQ,CAAC,CAAA,CAAA;AAEb,EAAA,MAAM,mBAAsB,GAAA,KAAA,CAAM,WAAY,CAAA,CAAC,KAAiB,KAAA;AAC9D,IAAA,aAAA,CAAc,UAAU,KAAK,CAAA,CAAA;AAAA,GAC/B,EAAG,EAAE,CAAA,CAAA;AAEL,EAAA,KAAA,CAAM,UAAU,MAAM;AACpB,IAAM,MAAA,MAAA,GAAS,cAAc,OAAO,CAAA,CAAA;AAEpC,IAAQ,MAAA,EAAA,gBAAA,CAAiB,IAAM,EAAA,mBAAA,EAAqB,OAAO,CAAA,CAAA;AAE3D,IAAA,OAAO,MAAM,MAAA,EAAQ,mBAAoB,CAAA,IAAA,EAAM,mBAAmB,CAAA,CAAA;AAAA,KACjE,CAAC,IAAA,EAAM,OAAS,EAAA,OAAA,EAAS,mBAAmB,CAAC,CAAA,CAAA;AAClD;;;;"}